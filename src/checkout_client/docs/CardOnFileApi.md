# CheckoutSaveCardOnFileDeleteSavedCardOnFileAndConfirmationsApi.CardOnFileApi

All URIs are relative to *https://sandbox.api.mastercard.com/srci/api*

Method | HTTP request | Description
------------- | ------------- | -------------
[**deleteCOF**](CardOnFileApi.md#deleteCOF) | **DELETE** /merchantCards/{merchantCardId} | Delete a previously saved card on file.
[**saveCOF**](CardOnFileApi.md#saveCOF) | **POST** /merchantCards | Saves a Card on File (COF)



## deleteCOF

> deleteCOF(merchantCardId, xOpenapiClientid, srcDpaId, opts)

Delete a previously saved card on file.

The Delete Card on File operation will delete the card with the specified Merchant card identifier. The Merchant card identifier may be associated with a Recurring payment or a Split shipment. The parameters passed in the HTTP request header must be in an encoded format to be valid for HTTP transmission.

### Example

```javascript
import CheckoutSaveCardOnFileDeleteSavedCardOnFileAndConfirmationsApi from 'checkout_save_card_on_file_delete_saved_card_on_file_and_confirmations_api';

let apiInstance = new CheckoutSaveCardOnFileDeleteSavedCardOnFileAndConfirmationsApi.CardOnFileApi();
let merchantCardId = "ea9862e0-f937-4b4b-932d-2653bdd55ef9"; // String | Merchant Card ID for a consumer. This is returned by Save Card on File endpoint.
let xOpenapiClientid = "3f34bev5-55dc-4c2d-a971-3ec37175364k"; // String | Open API key to make the server to server call to Mastercard SRCI. This ID is provided to the client during the onboarding process to make OAuth1.0 based signed requests. The value MUST match the Click to Pay Client ID present in the request body.
let srcDpaId = "b756a2b0-ef62-4c62-a6de-f72e75ce5f17"; // String | Identifies the connecting client. This will be the DPA ID of the v2 merchant.
let opts = {
  'xSrcTraceId': "39a9af3f-e27c-49f2-b924-26b74938d013", // String | Trace Id of the present checkout session. If present, can be used to trace the calls within a checkout session.
  'correlationId': "82cb0848-918c-495f-86ba-ca5130365d48", // String | Unique identifier generated by an SRC System. If an srcCorrelationId is generated and returned to a participant, it must be included in all subsequent messages sent to the SRC System within the same transaction context.
  'merchantAccountId': "fd569a31-1215-4cdd-8627-65a42167b902" // String | Merchant issued Account ID for a consumer. It serves as an integration check. It will be validated against, if `merchantCardId` was generated with an `merchantAccountId` in SaveCOF operation.
};
apiInstance.deleteCOF(merchantCardId, xOpenapiClientid, srcDpaId, opts, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **merchantCardId** | **String**| Merchant Card ID for a consumer. This is returned by Save Card on File endpoint. | 
 **xOpenapiClientid** | **String**| Open API key to make the server to server call to Mastercard SRCI. This ID is provided to the client during the onboarding process to make OAuth1.0 based signed requests. The value MUST match the Click to Pay Client ID present in the request body. | 
 **srcDpaId** | **String**| Identifies the connecting client. This will be the DPA ID of the v2 merchant. | 
 **xSrcTraceId** | **String**| Trace Id of the present checkout session. If present, can be used to trace the calls within a checkout session. | [optional] 
 **correlationId** | **String**| Unique identifier generated by an SRC System. If an srcCorrelationId is generated and returned to a participant, it must be included in all subsequent messages sent to the SRC System within the same transaction context. | [optional] 
 **merchantAccountId** | **String**| Merchant issued Account ID for a consumer. It serves as an integration check. It will be validated against, if &#x60;merchantCardId&#x60; was generated with an &#x60;merchantAccountId&#x60; in SaveCOF operation. | [optional] 

### Return type

null (empty response body)

### Authorization

No authorization required

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json


## saveCOF

> CardOnFileResponse saveCOF(xOpenapiClientid, cardOnFileRequest, opts)

Saves a Card on File (COF)

Tokenize consumerâ€™s card to return merchantCardId using FPAN (outside checkout). Merchants can then store the merchantCardId and card details, and use them on a subsequent transactions.

### Example

```javascript
import CheckoutSaveCardOnFileDeleteSavedCardOnFileAndConfirmationsApi from 'checkout_save_card_on_file_delete_saved_card_on_file_and_confirmations_api';

let apiInstance = new CheckoutSaveCardOnFileDeleteSavedCardOnFileAndConfirmationsApi.CardOnFileApi();
let xOpenapiClientid = "3f34bev5-55dc-4c2d-a971-3ec37175364k"; // String | Open API key to make the server to server call to Mastercard SRCI. This ID is provided to the client during the onboarding process to make OAuth1.0 based signed requests. The value MUST match the Click to Pay Client ID present in the request body.
let cardOnFileRequest = {"merchantTransactionId":"0a4e0d3.34f4a04b.d4c3b4d0b02629ddfeabc5339dd1ca534bca9248","srcDpaId":"b756a2b0-ef62-4c62-a6de-f72e75ce5f17","correlationId":"ba7a2034-3c9e-4d74-b0e9-d77435fd35d7","merchantAccountId":"fd569a31-1215-4cdd-8627-65a42167b902"}; // CardOnFileRequest | 
let opts = {
  'xSrcCxFlowId': "39a9af3f-e27c-49f2-b924-26b74938d013", // String | The X-Src-Cx-Flow-Id helps in routing and session affinity. Usage of X-Src-Cx-Flow-Id in requests ensures requests by the same client are directed to the same server. When you make your initial API call, use the X-Src-Cx-Flow-Id, returned in one of the client-side calls checkoutWithNewCard() or checkoutWitCard(). If you do not send X-Src-Cx-Flow-Id in your request or if the field is empty, the Click to Pay system generates one and responds with the X-Src-Cx-Flow-Id in the header. The X-Src-Cx-Flow-Id returned in the response must be used in subsequent calls to ensure that these calls are directed to the same server that returned the initial response. Failure to do so will result in call failures.
  'xSrcTraceId': "39a9af3f-e27c-49f2-b924-26b74938d013" // String | Trace Id of the present checkout session. If present, can be used to trace the calls within a checkout session.
};
apiInstance.saveCOF(xOpenapiClientid, cardOnFileRequest, opts, (error, data, response) => {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
});
```

### Parameters


Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **xOpenapiClientid** | **String**| Open API key to make the server to server call to Mastercard SRCI. This ID is provided to the client during the onboarding process to make OAuth1.0 based signed requests. The value MUST match the Click to Pay Client ID present in the request body. | 
 **cardOnFileRequest** | [**CardOnFileRequest**](CardOnFileRequest.md)|  | 
 **xSrcCxFlowId** | **String**| The X-Src-Cx-Flow-Id helps in routing and session affinity. Usage of X-Src-Cx-Flow-Id in requests ensures requests by the same client are directed to the same server. When you make your initial API call, use the X-Src-Cx-Flow-Id, returned in one of the client-side calls checkoutWithNewCard() or checkoutWitCard(). If you do not send X-Src-Cx-Flow-Id in your request or if the field is empty, the Click to Pay system generates one and responds with the X-Src-Cx-Flow-Id in the header. The X-Src-Cx-Flow-Id returned in the response must be used in subsequent calls to ensure that these calls are directed to the same server that returned the initial response. Failure to do so will result in call failures. | [optional] 
 **xSrcTraceId** | **String**| Trace Id of the present checkout session. If present, can be used to trace the calls within a checkout session. | [optional] 

### Return type

[**CardOnFileResponse**](CardOnFileResponse.md)

### Authorization

No authorization required

### HTTP request headers

- **Content-Type**: application/json
- **Accept**: application/json

